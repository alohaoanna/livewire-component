window.$OANNA=window.$oanna={modal(A){return{name:A,constructor(_){this.name=_},show(){window.Livewire?.first().dispatch('modal-show',{'name':this.name})},close(){window.Livewire?.first().dispatch('modal-close',{'name':this.name})}}},toast(B,C,_c=null,D='default',E='bottom'){window.Livewire?.first().dispatch('toast-show',{duration:B,slots:{text:C,heading:_c},dataset:{variant:D,position:E}})}};console.log('oanna init');window.Livewire?.on('modal-show',function(_a){var _b=_a.name,_C=document.querySelector(`dialog[data-modal=${_b}]`);!_C?console.warn(`No modal found for name [${_b}]`):a(_C)});window.Livewire?.on('modal-close',function(_A){var _B=_A.name,aA=document.querySelector(`dialog[data-modal=${_B}]`);if(!aA)console.warn(`No modal found for name [${_B}]`);else aA.hasAttribute('data-open')&&b(aA)});window.Livewire?.directive('modal',function({el:aB,directive:aC,component:aD,cleanup:_d}){aB.addEventListener('click',function(aE){if(aB==aE.target&&aB.contains(aE.target)){var aF=aB.hasAttribute('data-open'),aG=aB.getAttribute('data-dismissible');(aG=='true'&&aF)&&b(aB)}})});function a(aH){aH.showModal();setTimeout(function(){aH.setAttribute('data-open','')},200)}function b(aI){var aJ=getComputedStyle(aI),aK=parseFloat(aJ.transitionDuration);isNaN(aK)?aK=200:aK=aK*1000;aI.removeAttribute('data-open');setTimeout(function(){aI.close()},aK)}var c;window.Livewire?.on('toast-show',function(aL){var aM=document.querySelector('[data-oanna-toastr]');if(aM.hasAttribute('data-open')){c&&window.clearTimeout(c);aM.removeAttribute('data-open');var _D=getComputedStyle(aM),aN=(parseFloat(_D.transitionDuration)*1000)??200;setTimeout(function(){f(aM,aL)},(aN/1.5))}else f(aM,aL)});window.Livewire?.on('toast-dismiss',function(){h(document.querySelector('[data-oanna-toastr]'))});var d=document.querySelector('[data-oanna-toastr]');if(d){var e=d.querySelector('[data-toastr-close]');e?.addEventListener('click',function(aO){d.hasAttribute('data-open')&&h(d)})}function f(aP,aQ){var aR=aQ.duration??3000,aS=aQ.slots,_e=aQ.dataset,F=aP.querySelector('h5.title');if(F&&aS['heading'])F.innerText=aS['heading'];else !aS['heading']&&(F.innerText='');var G=aP.querySelector('p.text');!aS['heading']?G.classList.add('main'):G.classList.remove('main');(G&&aS['text'])&&(G.innerText=aS['text']);aP.setAttribute('data-position',_e['position']??'bottom right');aP.setAttribute('data-variant',_e['variant']??'default');aP.setAttribute('data-duration',`${aR}`);g(aP,aR)}function g(aT,aU){aT.showPopover();setTimeout(function(){aT.setAttribute('data-open','')},1);aU>0&&(c=window.setTimeout(function(){h(aT)},aU))}function h(aV){var aW=getComputedStyle(aV);aV.removeAttribute('data-open');c&&window.clearTimeout(c);setTimeout(function(){aV.hidePopover()},(parseFloat(aW.transitionDuration)*1000)??200)}window.Livewire?.directive('dropdown',function({el:aX,directive:aY,component:aZ,cleanup:bA}){var _E=aX.getAttribute('data-position'),[_f,_g]=_E.split(' '),H=10,I=aX.firstElementChild,J=aX.querySelector('[data-oanna-menu]'),K=I.getBoundingClientRect();i(J);var L=J.getBoundingClientRect();j(J);var M,N;if(_f.toLowerCase()=='top'||_f.toLowerCase()=='bottom'){if(_f.toLowerCase()=='top')M=K.top-L.height-H;else _f.toLowerCase()=='bottom'&&(M=K.bottom+H);if(_g.toLowerCase()=='start')N=K.left;else if(_g.toLowerCase()=='center')K.width>L.width?N=((K.width-L.width)/2)+K.left:N=K.left-((L.width-K.width)/2);else _g.toLowerCase()=='end'&&(N=K.right-L.width)}else if(_f.toLowerCase()=='left'||_f.toLowerCase()=='right'){if(_f.toLowerCase()=='left')N=K.left-L.width-H;else _f.toLowerCase()=='right'&&(N=K.right+H);if(_g.toLowerCase()=='start')M=K.top;else if(_g.toLowerCase()=='center')K.height>L.height?M=((K.height-L.height)/2)+K.top:M=K.top-((L.height-K.height)/2);else _g.toLowerCase()=='end'&&(M=K.bottom-L.height)}J.style.position='absolute';J.style.overflowY='auto';J.style.inset=(M+'px')+' auto auto '+(N+'px');I.addEventListener('click',function(bB){J.hasAttribute('data-open')?(aX.removeAttribute('data-active'),j(J)):(aX.setAttribute('data-active',''),i(J))})});window.Livewire?.directive('submenu',function({el:bC,directive:bD,component:bE,cleanup:bF}){var bG=bC.querySelector('[data-oanna-menu]');bC.addEventListener('mouseover',function(bH){bC.setAttribute('data-active','');var bI=bC.getBoundingClientRect(),bK=bG.getBoundingClientRect().width;bG.style.position='absolute';bG.style.overflowY='auto';bG.style.inset=(bI.top+'px')+' auto auto '+((bI.left+bI.width)+'px');i(bG);var bJ=k(bG);j(bG);!bJ.right&&(bG.style.inset=(bI.top+'px')+' auto auto '+((bI.left-bK)+'px'));i(bG)});bC.addEventListener('mouseout',function(bL){bC.removeAttribute('data-active');j(bG)})});document.addEventListener('click',function(bM){for(const bO of document.querySelectorAll('[data-oanna-dropdown]')){var bN=bO.querySelector('[data-oanna-menu]');if(bM.target==bO||bO.contains(bM.target))continue;if(!bN.hasAttribute('data-oanna-menu-submenu'))bN.hasAttribute('data-open')&&j(bN)}});function i(bP){bP.showPopover();bP.setAttribute('data-open','')}function j(bQ){bQ.hidePopover();bQ.removeAttribute('data-open')}function k(bR){let bS=bR.getBoundingClientRect();let bT=document.documentElement;return{top:bS.top>=0,bottom:bS.bottom<=(window.innerHeight||bT.clientHeight),left:bS.left>=0,right:bS.right<=(window.innerWidth||bT.clientWidth)}}window.Livewire?.directive('tooltip',function({el:bU,directive:bV,component:bW,cleanup:bX}){var bY=bU.getAttribute('data-position'),_F=10,_i=bU.querySelector('[data-oanna-tooltip-content]');bU.setAttribute('wire:ignore','');if(!bU.querySelector('[data-oanna-tooltip-content]')){var _G=document.createElement('div');_G.setAttribute('popover','manual');_G.setAttribute('data-oanna-tooltip-content','');_G.innerText=bU.getAttribute('data-oanna-tooltip');bU.appendChild(_G)}var _h=bU.getBoundingClientRect();l(_i);var _j=_i.getBoundingClientRect();m(_i);var _k,_l;if(bY=='top'){_k=(_h.top-_j.height)-_F;_l=((_h.width-_j.width)/2)+_h.left;_j.width>_h.width&&(_l=_h.left-((_j.width-_h.width)/2))}else if(bY=='bottom'){_k=_h.top+_F;_l=((_h.width-_j.width)/2)+_h.left;_j.width>_h.width&&(_l=_h.left-((_j.width-_h.width)/2))}else if(bY=='left'){_l=(_h.left-_j.width)-_F;_k=((_h.height-_j.height)/2)+_h.top;_j.width>_h.width&&(_k=_h.top-((_j.height-_h.height)/2))}else if(bY=='right'){_l=_h.left+_F;_k=((_h.height-_j.height)/2)+_h.top;_j.width>_h.width&&(_k=_h.top-((_j.height-_h.height)/2))}_i.style.position='absolute';_i.style.overflowY='auto';_i.style.inset=(_k+'px')+' auto auto '+(_l+'px');bU.addEventListener('mouseover',function(bZ){l(bU.querySelector('[data-oanna-tooltip-content]'))});bU.addEventListener('mouseout',function(cA){m(bU.querySelector('[data-oanna-tooltip-content]'))})});function l(cB){cB.showPopover();setTimeout(function(){cB.setAttribute('data-open','')},1)}function m(cC){var cD=getComputedStyle(cC);cC.removeAttribute('data-open');setTimeout(function(){cC.hidePopover()},parseInt(cD.transitionDuration)??200)}window.Livewire?.directive('select',function({el:cE,directive:cF,component:cG,cleanup:cH}){var cI=cE.querySelector('[data-oanna-select-button]'),cJ=cE.querySelector('[data-oanna-select-options]'),cK=cI.getBoundingClientRect(),_H=10;for(const cL of cJ.querySelectorAll('option'))cL.addEventListener('click',function(cM){var cN=window.Livewire?.find(cE.getAttribute('data-livewire-id'));cN.$set(cE.getAttribute('data-target'),cL.getAttribute('value'))});cI.addEventListener('click',function(cO){console.log(cO);var cP=cE.querySelector('[data-oanna-select-options]');if(!cP.hasAttribute('data-open')){cP.showPopover();var cQ=k(cP),cR=cP.getBoundingClientRect();cP.hidePopover();cP.style.width=cK.width+'px';!cQ.bottom?cP.style.inset=((cK.top-cR.height-_H)+'px')+' auto auto '+(cK.left+'px'):cP.style.inset=((cK.top+cK.height+_H)+'px')+' auto auto '+(cK.left+'px');n(cP)}else o(cP)})});function n(cS){cS.showPopover();cS.setAttribute('data-open','')}function o(cT){cT.hidePopover();cT.removeAttribute('data-open')}
