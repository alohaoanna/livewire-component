const{isArray:a}=Array;window.$OANNA=window.$oanna={modal(A){return{name:A,constructor(_){this.name=_},show(){window.Livewire?.first().dispatch('modal.show',{'name':this.name})},close(){window.Livewire?.first().dispatch('modal.close',{'name':this.name})}}},async toast(b,B='default',c=null,D=null,E=null){let f=await fetch('/oanna/config');let g=await f.json();window.Livewire?.first().dispatch('toast.show',{duration:E??g.toast.duration,slots:{text:b,heading:c},dataset:{variant:B,position:D??g.toast.position}})}};document.addEventListener('livewire:initialized',function(C){let _b;window.Livewire?.on('toast.show',function({duration:_a,slots:_B,dataset:_C}){var _D=_B.heading,_E=_B.text,_f=_C.variant,_g=_C.position,H=document.querySelector('.toastContainer'),_i=document.querySelector('.toastContainer__toast');if(!H||!_i)return;let J=_i.querySelector('.toastContainer__toast__contentContainer__title');let K=_i.querySelector('.toastContainer__toast__contentContainer__text');_b?(H.removeAttribute('data-toast'),setTimeout(function(){clearTimeout(_b);_c(_i,H,J,K,_D,_E,_g,_f,_a)},150)):(_c(_i,H,J,K,_D,_E,_g,_f,_a))});function _c(_A,aA,aB,aC,aD,_F,_G,_h,_I){if(!aB||!aC)return;aA.setAttribute('data-toast-position',_G);aA.setAttribute('data-toast-variant',_h);aD?(aB.innerHTML=aD,aC.innerHTML=_F):(aB.innerHTML=_F);aA.showPopover();aA.style.display='flex';setTimeout(function(){aA.setAttribute('data-toast','');_b=setTimeout(function(){_d(_A,aA)},parseFloat(_I))},10)}function _d(aE,aF){aF.removeAttribute('data-toast');setTimeout(function(){aF.hidePopover();aF.style.display='none';_b&&(clearTimeout(_b),_b=null)},200)}for(const aG of document.querySelectorAll('dialog[data-modal]'))aG.addEventListener('click',function(e){var aH=aG.hasAttribute('data-dismissable')&&aG.getAttribute('data-dismissable')==='true';(aG===e.target&&aH)&&(aG.removeAttribute('data-open'),setTimeout(function(){aG.close()},201))});window.Livewire?.on('modal.show',function({name:aI}){let aJ=document.querySelector(`dialog[data-modal="${aI}"]`);if(!aJ){console.warn(`No modal found for name "${aI}"!`);return}aJ.showModal();setTimeout(function(){aJ.setAttribute('data-open','')},1)});window.Livewire?.on('modal.close',function({name:aK}){let aL=document.querySelector(`dialog[data-modal="${aK}"]`);if(!aL){console.warn(`No modal found for name "${aK}"!`);return}aL.removeAttribute('data-open');setTimeout(function(){aL.close()},201)});for(const aM of document.querySelectorAll('.tooltipContainer')){let aN=5,aO=aM.firstElementChild,aP=aM.querySelector('.tooltipContainer__tooltip');G(aP);_e(aP,aO,aM,aN);setTimeout(function(){F(aP,aO,aN);h(aP)},200);if(aO&&aP)aM.hasAttribute('data-tooltip-clickable')||window.innerWidth<=900?(aO.addEventListener('click',e=>{if(aP.hasAttribute('data-open')){aP.removeAttribute('data-open');setTimeout(function(){h(aP)},parseFloat(getComputedStyle(aP).transitionDuration)*1000)}else{G(aP);_e(aP,aO,aM,aN);setTimeout(function(){F(aP,aO,aN);aP.setAttribute('data-open','')},1)}})):(aO.addEventListener('mouseover',e=>{G(aP);_e(aP,aO,aM,aN);setTimeout(function(){F(aP,aO,aN);aP.setAttribute('data-open','')},1)}),aO.addEventListener('mouseleave',e=>{aP.removeAttribute('data-open');setTimeout(function(){h(aP)},parseFloat(getComputedStyle(aP).transitionDuration)*1000)}))}function _e(aQ,aR,aS,aT){let aU=aR.getBoundingClientRect(),aV=aQ.getBoundingClientRect(),aW=aS.getAttribute('data-tooltip-position'),_H=window.scrollX,aX=window.scrollY;var _j=0,_k=0;if(aW==='top'||aW==='bottom')aV.width>aU.width?_k=aU.left-((aV.width-aU.width)/2)+_H:_k=aU.left+((aU.width-aV.width)/2)+_H;if(aW==='left'||aW==='right')aV.height>aU.height?_j=aU.top-((aV.height-aU.height)/2)+aX:_j=aU.top+((aU.height-aV.height)/2)+aX;if(aW==='top')_j=aU.top-aV.height-aT+aX;else if(aW==='left')_k=aU.left-aV.width-aT+_H;else if(aW==='bottom')_j=aU.top+aU.height+aT+aX;else aW==='right'&&(_k=aU.left+aU.width+aT+_H);aQ.style.position='absolute';aQ.style.overflowY='auto';aQ.style.inset=`${_j}px auto auto ${_k}px`}function F(aY,aZ,bA){let bB=aY.getBoundingClientRect(),bC=aZ.getBoundingClientRect(),bD=s(bB),bE=getComputedStyle(aY).inset,[bF,bG,_J,_K]=bE.split(' ');bF=parseFloat(bF);_K=parseFloat(_K);!bD.top&&(bF=bC.top-bB.height-bA+window.scrollY);!bD.left&&(_K=bC.left+window.scrollX);!bD.bottom&&(bF=bC.top+bC.height+bA+window.scrollY);!bD.right&&(_K=bC.left-bB.width+bC.width);aY.style.inset=`${bF}px auto auto ${_K}px`}function G(bH){bH.showPopover();bH.setAttribute('open','')}function h(bI){bI.removeAttribute('open');bI.hidePopover()}for(const bJ of document.querySelectorAll('.dropdown')){let bK=5,bL=bJ.firstElementChild,bM=bJ.querySelector('.dropdown__menu');k(bM);I(bM,bL,bJ,bK);setTimeout(function(){j(bM,bL,bK);l(bM)},200);bL.addEventListener('click',function(e){if(bM.hasAttribute('data-open')){bM.removeAttribute('data-open');setTimeout(function(){l(bM)},parseFloat(getComputedStyle(bM).transitionDuration)*1000)}else{for(const bN of document.querySelectorAll('.dropdown')){let d=bN.querySelector('.dropdown__menu');if(d!==bM){d.removeAttribute('data-open');setTimeout(function(){l(d)},parseFloat(getComputedStyle(d).transitionDuration)*1000)}}k(bM);I(bM,bL,bJ,bK);setTimeout(function(){j(bM,bL,bK);bM.setAttribute('data-open','')},1)}})}function I(bO,bP,bQ,bR){let bS=bP.getBoundingClientRect(),bT=bO.getBoundingClientRect(),bU=bQ.getAttribute('data-dropdown-position'),bV=bQ.getAttribute('data-dropdown-align'),bW=window.scrollX,bX=window.scrollY;var bY=0,L=0;if(bU==='top')bY=bS.top-bT.height-bR+bX;else bU==='bottom'&&(bY=bS.top+bS.height+bR+bX);if(bV==='left')L=bS.left+bW;else if(bV==='center')bT.width>bS.width?L=bS.left-((bT.width-bS.width)/2)+bW:L=bS.left+((bS.width-bT.width)/2)+bW;else bV==='right'&&(L=bS.left-bT.width+bS.width);bO.style.position='absolute';bO.style.overflowY='auto';bO.style.inset=`${bY}px auto auto ${L}px`}function j(bZ,cA,cB){let cC=bZ.getBoundingClientRect(),cD=cA.getBoundingClientRect(),cE=s(cC),cF=getComputedStyle(bZ).inset,[cG,cH,cI,cJ]=cF.split(' ');cG=parseFloat(cG);cJ=parseFloat(cJ);!cE.top&&(cG=cD.top-cC.height-cB+window.scrollY);!cE.left&&(cJ=cD.left+window.scrollX);!cE.bottom&&(cG=cD.top+cD.height+cB+window.scrollY);!cE.right&&(cJ=cD.left-cC.width+cD.width);bZ.style.inset=`${cG}px auto auto ${cJ}px`}function k(cK){cK.showPopover();cK.setAttribute('open','')}function l(cL){cL.removeAttribute('open');cL.hidePopover()}for(const cM of document.querySelectorAll('[data-select]')){let cN=cM.querySelector('.select-custom__input'),cO=cM.getAttribute('data-select'),cP=window.Livewire?.find(cM.getAttribute('data-livewire-id')),m='';if(cM.hasAttribute('data-select-multiple')){var n=JSON.parse(JSON.stringify(cP.get(cO)));if(n.length>0){let cQ=cM.getAttribute('data-select-suffix'),cR=cM.getAttribute('data-select-item-limit');n.length>cR&&cQ?(m=n.length+' '+cQ):(n.forEach(v=>{var i=cM.querySelector(`.dropdown__item[value="${v}"]`);i&&(m+=i.textContent+', ')}),m=m.slice(0,-2))}}else{var o=q(cP.get(cO)),p=cM.querySelector(`.dropdown__item[value="${o}"]`);p&&(m=p.textContent)}(cN&&m)&&(cN.innerHTML=m);cM.querySelectorAll('.dropdown__item').forEach(item=>item.addEventListener('click',function(){var cS=r(item.getAttribute('value')),cT='';if(cM.hasAttribute('data-select-multiple')){var cU=JSON.parse(JSON.stringify(cP.get(cO)));if(cU.includes(cS)){var cV=cU.indexOf(cS);cU.splice(cV,1)}else cU.push(cS);cP.set(cO,cU);if(cU.length>0){let cW=cM.getAttribute('data-select-suffix');cU.length>3&&cW?(cT=cU.length+' '+cW):(cU.forEach(v=>{var i=cM.querySelector(`.dropdown__item[value="${v}"]`);i&&(cT+=i.textContent+', ')}),cT=cT.slice(0,-2))}else cT=cM.getAttribute('data-select-placeholder')}else{cP.set(cO,cS);cT=item.textContent}(cN&&cT)&&(cN.innerHTML=cT)}))}function q(cX){if(typeof cX==='object'&&cX!==null){if(a(cX))return cX.map(q);let cY={};for(const cZ in cX)cY[cZ]=q(cX[cZ]);return cY}return cX}function r(dA){if(dA==='true')return!0;if(dA==='false')return!1;if(!isNaN(dA)&&dA.trim()!=='')return +dA;if((dA.startsWith('{')&&dA.endsWith('}'))||(dA.startsWith('[')&&dA.endsWith(']')))try{return JSON.parse(dA)}catch(e){return dA}return dA}function s(dB){let dC=document.documentElement;return{top:dB.top>=0,left:dB.left>=0,bottom:dB.bottom<=(window.innerHeight||dC.clientHeight),right:dB.right<=(window.innerWidth||dC.clientWidth)}}});
