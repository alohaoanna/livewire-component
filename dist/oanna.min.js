window.$OANNA=window.$oanna={modal(_){return{name:_,constructor(B){this.name=B},show(){window.Livewire?.first().dispatch('modal-show',{'name':this.name})},close(){window.Livewire?.first().dispatch('modal-close',{'name':this.name})}}},toast(C,_b,_c=null,D='default',E='bottom'){window.Livewire?.first().dispatch('toast-show',{duration:C,slots:{text:_b,heading:_c},dataset:{variant:D,position:E}})}};console.log('oanna init');document.addEventListener('livewire:initialized',function(_a){window.Livewire?.on('modal-show',function(_A){var _B=_A.name,_C=document.querySelector(`dialog[data-modal=${_B}]`);!_C?console.warn(`No modal found for name [${_B}]`):a(_C)});window.Livewire?.on('modal-close',function(aA){var aB=aA.name,aC=document.querySelector(`dialog[data-modal=${aB}]`);if(!aC)console.warn(`No modal found for name [${aB}]`);else aC.hasAttribute('data-open')&&b(aC)})});window.Livewire?.directive('modal',function({el:aD,directive:aE,component:aF,cleanup:_d}){aD.addEventListener('click',function(aG){if(aD==aG.target&&aD.contains(aG.target)){var aH=aD.hasAttribute('data-open'),aI=aD.getAttribute('data-dismissible');(aI=='true'&&aH)&&b(aD)}})});function a(aJ){aJ.showModal();setTimeout(function(){aJ.setAttribute('data-open','')},200)}function b(aK){var aL=getComputedStyle(aK),aM=parseFloat(aL.transitionDuration);isNaN(aM)?aM=200:aM=aM*1000;aK.removeAttribute('data-open');setTimeout(function(){aK.close()},aM)}var c;document.addEventListener('livewire:initialized',function(aN){window.Livewire?.on('toast-show',function(aQ){var aR=document.querySelector('[data-oanna-toastr]');if(aR.hasAttribute('data-open')){c&&window.clearTimeout(c);aR.removeAttribute('data-open');var _D=getComputedStyle(aR),aS=(parseFloat(_D.transitionDuration)*1000)??200;setTimeout(function(){d(aR,aQ)},(aS/1.5))}else d(aR,aQ)});window.Livewire?.on('toast-dismiss',function(){f(document.querySelector('[data-oanna-toastr]'))});var aO=document.querySelector('[data-oanna-toastr]');if(aO){var aP=aO.querySelector('[data-toastr-close]');aP?.addEventListener('click',function(aT){aO.hasAttribute('data-open')&&f(aO)})}});function d(aU,aV){var aW=aV.duration??3000,aX=aV.slots,_e=aV.dataset,F=aU.querySelector('h5.title');if(F&&aX['heading'])F.innerText=aX['heading'];else !aX['heading']&&(F.innerText='');var G=aU.querySelector('p.text');!aX['heading']?G.classList.add('main'):G.classList.remove('main');(G&&aX['text'])&&(G.innerText=aX['text']);aU.setAttribute('data-position',_e['position']??'bottom right');aU.setAttribute('data-variant',_e['variant']??'default');aU.setAttribute('data-duration',`${aW}`);A(aU,aW)}function A(aY,aZ){aY.showPopover();setTimeout(function(){aY.setAttribute('data-open','')},1);aZ>0&&(c=window.setTimeout(function(){f(aY)},aZ))}function f(bA){var bB=getComputedStyle(bA);bA.removeAttribute('data-open');c&&window.clearTimeout(c);setTimeout(function(){bA.hidePopover()},(parseFloat(bB.transitionDuration)*1000)??200)}window.Livewire?.directive('dropdown',function({el:bC,directive:bD,component:bE,cleanup:bF}){var _E=bC.getAttribute('data-position'),[_f,_g]=_E.split(' '),H=10,I=bC.firstElementChild,J=bC.querySelector('[data-oanna-menu]');I.addEventListener('click',function(bG){if(J.hasAttribute('data-open')){bC.removeAttribute('data-active');h(J)}else{bC.setAttribute('data-active','');var bH=I.getBoundingClientRect(),bI=J.getBoundingClientRect();J.showPopover();var _F=i(J);J.hidePopover();var _G=bH.top+window.scrollY;var bJ,bK;switch(_f.toLowerCase()) {case 'top':case 'bottom':switch(_f.toLowerCase()) {case 'top':bJ=_G-bI.height-(H*2);break;case 'bottom':bJ=_G+bH.height+H;break}switch(_g.toLowerCase()) {case 'start':bK=bH.left;break;case 'center':bH.width>bI.width?bK=((bH.width-bI.width)/2)+bH.left:bK=bH.left-((bI.width-bH.width)/2);break;case 'end':bK=bH.right-bI.width;break;default:console.warn('Please provide a right align from the given ones: [start, center, end]');break}break;case 'left':case 'right':switch(_f.toLowerCase()) {case 'left':bK=bH.left-bI.width-(H*2);break;case 'right':bK=bH.left+bH.width+H;break}switch(_g.toLowerCase()) {case 'start':bJ=_G;break;case 'center':bH.height>bI.height?bJ=((bH.height-bI.height)/2)+_G:bJ=_G-((bI.height-bH.height)/2);break;case 'end':bJ=bH.bottom-bI.height;break;default:console.warn('Please provide a right align from the given ones: [start, center, end]');break}break;default:console.warn('Please provide a right position from the given ones: [top, bottom, left, right]');break}!_F.top&&(bJ=_G+bH.height+H);!_F.bottom&&(bJ=_G-bI.height-(H*2));!_F.left&&(bK=bH.left+bH.width+H);!_F.right&&(bK=bH.left-bI.width-(H*2));J.style.position='absolute';J.style.overflowY='auto';J.style.inset=(bJ+'px')+' auto auto '+(bK+'px');g(J)}})});window.Livewire?.directive('submenu',function({el:bL,directive:bM,component:bN,cleanup:bO}){var bP=bL.querySelector('[data-oanna-menu]');bL.addEventListener('mouseenter',function(bQ){bL.setAttribute('data-active','');var bR=bL.getBoundingClientRect(),bT=bP.getBoundingClientRect().width;bP.style.position='absolute';bP.style.overflowY='auto';bP.style.inset=((bR.top+window.scrollY)+'px')+' auto auto '+((bR.left+bR.width)+'px');g(bP);var bS=i(bP);h(bP);!bS.right&&(bP.style.inset=((bR.top+window.scrollY)+'px')+' auto auto '+((bR.left-bT)+'px'));g(bP)});bL.addEventListener('mouseleave',function(bU){bL.removeAttribute('data-active');h(bP)})});function g(bV){bV.showPopover();setTimeout(function(){bV.setAttribute('data-open','')},1)}function h(bW){bW.hidePopover();bW.removeAttribute('data-open')}function i(bX){let bY=bX.getBoundingClientRect();let bZ=document.documentElement;return{top:bY.top>=0,bottom:bY.bottom<=(window.innerHeight||bZ.clientHeight),left:bY.left>=0,right:bY.right<=(window.innerWidth||bZ.clientWidth)}}window.Livewire?.directive('tooltip',function({el:cA,directive:cB,component:cC,cleanup:cD}){var cE=cA.getAttribute('data-position'),cF=10;if(!cA.querySelector('[data-oanna-tooltip-content]')){var cG=document.createElement('div');cG.setAttribute('popover','manual');cG.setAttribute('data-oanna-tooltip-content','');cG.setAttribute('wire:ignore.self','');cG.innerText=cA.getAttribute('data-oanna-tooltip');cA.appendChild(cG)}var _h=cA.firstElementChild;_h.addEventListener('mouseenter',function(cH){j(cA.querySelector('[data-oanna-tooltip-content]'),_h.getBoundingClientRect(),cE,cF)});_h.addEventListener('mouseleave',function(cI){k(cA.querySelector('[data-oanna-tooltip-content]'))})});function j(cJ,cK,cL,cM){cJ.showPopover();var cN=cJ.getBoundingClientRect(),cO=cK.top+window.scrollY;var cP,_H;switch(cL.toLowerCase()) {case 'top':cP=cO-cN.height-cM;_H=((cK.width-cN.width)/2)+cK.left;cN.width>cK.width&&(_H=cK.left-((cN.width-cK.width)/2));break;case 'bottom':cP=cO+cN.height+cM;_H=((cK.width-cN.width)/2)+cK.left;cN.width>cK.width&&(_H=cK.left-((cN.width-cK.width)/2));break;case 'left':_H=cK.left-cN.width-cM;cP=((cK.height-cN.height)/2)+cO;cN.height>cK.height&&(cP=cO-((cN.height-cK.height)/2));break;case 'right':_H=cK.left+cK.width+cM;cP=((cK.height-cN.height)/2)+cO;cN.height>cK.height&&(cP=cO-((cN.height-cK.height)/2));break;default:console.warn('Please provide a right position from the given ones: [top, bottom, left, right]');break}cJ.style.position='absolute';cJ.style.overflowY='auto';cJ.style.inset=(cP+'px')+' auto auto '+(_H+'px');setTimeout(function(){cJ.setAttribute('data-open','')},1)}function k(cQ){var cR=getComputedStyle(cQ);cQ.removeAttribute('data-open');setTimeout(function(){cQ.hidePopover()},parseInt(cR.transitionDuration)??200)}window.Livewire?.directive('select',function({el:cS,directive:cT,component:cU,cleanup:cV}){var cW=10,cX=cS.querySelector('[data-oanna-select-button]');cX.addEventListener('click',function(cZ){var dA=cZ.target.closest('[data-oanna-select-button]');n(cS.querySelector('[data-oanna-select-options]'),dA.getBoundingClientRect(),cW)});var cY=cS.querySelector('[data-oanna-select-options]');for(const dB of cY.querySelectorAll('[data-oanna-select-option]'))dB.addEventListener('click',function(dC){var dD=dB.getAttribute('value')??dB.innerText;cS.hasAttribute('data-oanna-select-multiple')?l(cU.$wire,cT.expression,dD,dB,cX,cY):m(cU.$wire,cT.expression,dD,dB,cX)});cV(()=>{})});function l(dE,dF,dG,dH,dI,dJ){var dK=dE.$get(dF);dK=JSON.parse(JSON.stringify(dK));if(dK.includes(dG)){var dL=dK.indexOf(dG);dK.splice(dL,1)}else dK.push(dG);dE.$set(dF,dK);if(dK.length>1)dI.innerText=dK.length+' '+dI.getAttribute('data-selected-suffix');else if(dK.length==1){var _i=dK.at(0);_i=dJ.querySelector(`[data-oanna-select-option][value="${_i}"]`);dI.innerText=_i.innerText}else dI.innerText=dI.getAttribute('data-placeholder')}function m(dM,dN,dO,dP,dQ){dM.$set(dN,dO);dQ.innerText=dP.innerText}function n(dR,dS,dT){dR.showPopover();var dU=dS.top+window.scrollY,dV=dR.getBoundingClientRect();dR.style.inset=((dU+dS.height+dT)+'px')+' auto auto '+(dS.left+'px');var dW=i(dR);dR.style.width=dS.width+'px';dR.style.position='absolute';dR.style.overflowY='auto';!dW.bottom?dR.style.inset=((dU-dV.height-dT)+'px')+' auto auto '+(dS.left+'px'):dR.style.inset=((dU+dS.height+dT)+'px')+' auto auto '+(dS.left+'px');setTimeout(function(){dR.setAttribute('data-open','')},1)}function o(dX){dX.hidePopover();dX.removeAttribute('data-open')}window.Livewire?.directive('wysiwyg',function({el:dY,directive:dZ,component:eA,cleanup:eB}){var eC=dY.getAttribute('data-core'),eD;if(eC=='ckeditor'){const{ClassicEditor:eG,Alignment:eH,Autosave:eI,Bold:eJ,Essentials:eK,Heading:eL,ImageEditing:eM,ImageUtils:eN,Indent:eO,IndentBlock:_J,Italic:K,List:L,ListProperties:M,Paragraph:N,PlainTableOutput:O,Strikethrough:P,Subscript:Q,Superscript:R,Table:S,TableCaption:t,TableCellProperties:u,TableColumnResize:v,TableLayout:w,TableProperties:x,TableToolbar:y,TodoList:z,Underline:eP}=window.CKEDITOR,eE=eA.$wire.get(dZ.expression),eF=dY.getAttribute('data-license-key'),_I={toolbar:{items:['undo','redo','|','heading','|','bold','italic','underline','strikethrough','subscript','superscript','|','insertTable','insertTableLayout','|','alignment','|','bulletedList','numberedList','todoList','outdent','indent'],shouldNotGroupWhenFull:!0},plugins:[eH,eI,eJ,eK,eL,eM,eN,eO,_J,K,L,M,N,O,P,Q,R,S,t,u,v,w,x,y,z,eP],heading:{options:[{model:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{model:'heading1',view:'h1',title:'Heading 1',class:'ck-heading_heading1'},{model:'heading2',view:'h2',title:'Heading 2',class:'ck-heading_heading2'},{model:'heading3',view:'h3',title:'Heading 3',class:'ck-heading_heading3'},{model:'heading4',view:'h4',title:'Heading 4',class:'ck-heading_heading4'},{model:'heading5',view:'h5',title:'Heading 5',class:'ck-heading_heading5'},{model:'heading6',view:'h6',title:'Heading 6',class:'ck-heading_heading6'}]},initialData:eE,licenseKey:eF,list:{properties:{styles:!0,startIndex:!0,reversed:!0}},placeholder:dY.getAttribute('placeholder'),table:{contentToolbar:['tableColumn','tableRow','mergeTableCells','tableProperties','tableCellProperties']},autosave:{waitingTiming:5000,save:eQ=>eA.$wire.set(dZ.expression,eQ.getData())}};var eD;eG.create(dY,_I).then(e=>eD=e).catch(eR=>console.error(eR))}else{var _j=[[{header:[1,2,3,!1]}],['bold','italic'],[{list:'ordered'},{list:'bullet'}]];eD=new window.Quill(dY, {theme:'snow',modules:{toolbar:_j}});eD.root.innerHTML=eA.$wire.get(dZ.expression);window.Livewire?.on('wysiwyg-prop-updated',function(eS){eD.root.innerHTML=eS.value});eD.on('text-change',function(){eA.$wire.set(dZ.expression,eD.root.innerHTML)})}window.Livewire?.on('wysiwyg-prop-updated',function(eT){eC=='ckeditor'?eD.setData(eT.value):eD.disable()});eB(()=>{eC?eD.destroy().catch(eU=>console.error(eU)):eD.disable()})});window.Livewire?.directive('date-picker',function({el:eV,directive:eW,component:eX,cleanup:eY}){var eZ=10,fA=eV.querySelector('[data-input-container]');fA.addEventListener('click',function(fB){p(eV.querySelector('[data-oanna-date-picker-calendar]'),fA.getBoundingClientRect(),eZ)});eY(()=>{})});function p(fC,fD,fE){fC.showPopover();var fF=fC.getBoundingClientRect(),fG=fD.top+window.scrollY;fC.style.inset=((fG+fE)+'px')+' auto auto '+(fD.left+'px');var fH=i(fC);fC.style.width=fD.width+'px';fC.style.position='absolute';fC.style.overflowY='auto';!fH.bottom&&(fC.style.inset=(((fG)-fF.height-fE)+'px')+' auto auto '+(fD.left+'px'));setTimeout(function(){fC.setAttribute('data-open','')},1)}function q(fI){fI.hidePopover();fI.removeAttribute('data-open')}window.Livewire?.directive('context',function({el:fJ,directive:fK,component:fL,cleanup:fM}){var fN=fJ.firstElementChild;fN.addEventListener('contextmenu',function(fO){if(!fN.hasAttribute('data-disabled')){var fP=fJ.querySelector('[data-oanna-menu]'),[fR,fS]=fQ.split(' ');fO.preventDefault();var fQ=fJ.getAttribute('data-position');r(fP,fR,fS,fO)}});fM(()=>{})});function r(fT,fU,fV,fW){fT.showPopover();var fX=fT.getBoundingClientRect(),fY=fW.pageY;var fZ,gA;switch(fU.toLowerCase()) {case 'top':fZ=fY-fX.height;break;case 'bottom':fZ=fY;break}switch(fV.toLowerCase()) {case 'start':gA=fW.pageX;break;case 'center':gA=fW.pageX-(fX.width/2);break;case 'end':gA=fW.pageX-fX.width;break}fT.style.position='absolute';fT.style.overflowY='auto';fT.style.inset=(fZ+'px')+' auto auto '+(gA+'px');var gB=i(fT);!gB.top&&(fZ=(fY));!gB.bottom&&(fZ=(fY)-fX.height);!gB.right&&(gA=fW.pageX-fX.width);fT.style.position='absolute';fT.style.overflowY='auto';fT.style.inset=(fZ+'px')+' auto auto '+(gA+'px');fT.setAttribute('data-open','')}function s(gC){gC.hidePopover();gC.removeAttribute('data-open')}document.addEventListener('livewire:initialized',function(gD){document.addEventListener('click',function(gE){for(const gI of document.querySelectorAll('[wire\\:dropdown]')){var gF=gI.querySelector('[data-oanna-menu]');if(gE.target!=gI&&!gI.contains(gE.target))(!gF.hasAttribute('data-oanna-menu-submenu')&&gF.hasAttribute('data-open'))&&h(gF)}for(const gJ of document.querySelectorAll('[wire\\:select]')){var gG=gJ.querySelector('[data-oanna-select-options]');if(gG.hasAttribute('data-open'))(gE.target!=gG&&!gG.contains(gE.target))&&o(gG)}for(const gK of document.querySelectorAll('[wire\\:date-picker]')){var gH=gK.querySelector('[data-oanna-date-picker-calendar]');if(gH.hasAttribute('data-open'))(gE.target!=gH&&!gH.contains(gE.target))&&q(gH)}document.querySelectorAll('[wire\\:context]').forEach(gL=>{var gM=gL.querySelector('[data-oanna-menu]');if(gM.hasAttribute('data-open'))(gE.target!=gM&&!gM.contains(gE.target))&&s(gM)})})});
