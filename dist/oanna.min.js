window.$OANNA=window.$oanna={modal(A){return{name:A,constructor(_){this.name=_},show(){window.Livewire?.first().dispatch('modal-show',{'name':this.name})},close(){window.Livewire?.first().dispatch('modal-close',{'name':this.name})}}},toast(b,B,c=null,d='default',e='bottom'){window.Livewire?.first().dispatch('toast-show',{duration:b,slots:{text:B,heading:c},dataset:{variant:d,position:e}})}};a();window.Livewire?.hook('morphed',({el:C,component:_b})=>a());function a(){document.addEventListener('livewire:initialized',()=>{_a();function _a(){window.Livewire?.on('modal-show',function(_A){var _B=_A.name,_C=document.querySelector(`dialog[data-modal=${_B}]`);!_C?console.warn(`No modal found for name [${_B}]`):D(_C)});window.Livewire?.on('modal-close',function(aA){var aB=aA.name,aC=document.querySelector(`dialog[data-modal=${aB}]`);if(!aC)console.warn(`No modal found for name [${aB}]`);else aC.hasAttribute('data-open')&&_c(aC)});for(const aD of document.querySelectorAll('oanna-modal > dialog'))aD.addEventListener('click',function(aE){if(aD==aE.target&&aD.contains(aE.target)){var aF=aD.hasAttribute('data-open'),aG=aD.getAttribute('data-dismissible');(aG=='true'&&aF)&&_c(aD)}})}function D(aH){aH.showModal();setTimeout(function(){aH.setAttribute('data-open','')},200)}function _c(aI){var aJ=getComputedStyle(aI),aK=parseFloat(aJ.transitionDuration);isNaN(aK)?aK=200:aK=aK*1000;aI.removeAttribute('data-open');setTimeout(function(){aI.close()},aK)}E();var _d;function E(){var aL;window.Livewire?.on('toast-show',function(aO){var aP=document.querySelector('[data-oanna-toastr]');if(aP.hasAttribute('data-open')){aL&&window.clearTimeout(aL);aP.removeAttribute('data-open');var _D=getComputedStyle(aP),aQ=(parseFloat(_D.transitionDuration)*1000)??200;setTimeout(function(){f(aP,aO)},(aQ/1.5))}else f(aP,aO)});window.Livewire?.on('toast-dismiss',function(){h(document.querySelector('[data-oanna-toastr]'))});var aM=document.querySelector('[data-oanna-toastr]');if(aM){var aN=aM.querySelector('[data-toastr-close]');aN?.addEventListener('click',function(aR){aM.hasAttribute('data-open')&&h(aM)})}}function f(aS,aT){var aU=aT.duration??3000,aV=aT.slots,_e=aT.dataset,F=aS.querySelector('h5.title');if(F&&aV['heading'])F.innerText=aV['heading'];else !aV['heading']&&(F.innerText='');var G=aS.querySelector('p.text');!aV['heading']?G.classList.add('main'):G.classList.remove('main');(G&&aV['text'])&&(G.innerText=aV['text']);aS.setAttribute('data-position',_e['position']??'bottom right');aS.setAttribute('data-variant',_e['variant']??'default');aS.setAttribute('data-duration',`${aU}`);g(aS,aU)}function g(aW,aX){aW.showPopover();setTimeout(function(){aW.setAttribute('data-open','')},1);aX>0&&(_d=window.setTimeout(function(){h(aW)},aX))}function h(aY){var aZ=getComputedStyle(aY);aY.removeAttribute('data-open');_d&&window.clearTimeout(_d);setTimeout(function(){aY.hidePopover()},(parseFloat(aZ.transitionDuration)*1000)??200)}i();function i(){for(const bA of document.querySelectorAll('[data-oanna-dropdown]')){var _E=bA.getAttribute('data-position'),[bB,bC]=_E.split(' '),_f=10,_g=bA.firstElementChild,H=bA.querySelector('[data-oanna-menu]'),bK=_g.getBoundingClientRect();j(H);var bL=H.getBoundingClientRect();k(H);var bM,bN;if(bB.toLowerCase()=='top'||bB.toLowerCase()=='bottom'){if(bB.toLowerCase()=='top')bM=bK.top-bL.height-_f;else bB.toLowerCase()=='bottom'&&(bM=bK.bottom+_f);if(bC.toLowerCase()=='start')bN=bK.left;else if(bC.toLowerCase()=='center')bK.width>bL.width?bN=((bK.width-bL.width)/2)+bK.left:bN=bK.left-((bL.width-bK.width)/2);else bC.toLowerCase()=='end'&&(bN=bK.right-bL.width)}else if(bB.toLowerCase()=='left'||bB.toLowerCase()=='right'){if(bB.toLowerCase()=='left')bN=bK.left-bL.width-_f;else bB.toLowerCase()=='right'&&(bN=bK.right+_f);if(bC.toLowerCase()=='start')bM=bK.top;else if(bC.toLowerCase()=='center')bK.height>bL.height?bM=((bK.height-bL.height)/2)+bK.top:bM=bK.top-((bL.height-bK.height)/2);else bC.toLowerCase()=='end'&&(bM=bK.bottom-bL.height)}H.style.position='absolute';H.style.overflowY='auto';H.style.inset=(bM+'px')+' auto auto '+(bN+'px');_g.addEventListener('click',function(bD){H.hasAttribute('data-open')?k(H):j(H)});for(const bE of bA.querySelectorAll('[data-oanna-menu-submenu]')){var I=bE.querySelector('[data-oanna-menu]');bE.addEventListener('mouseover',function(bF){var bG=bE.getBoundingClientRect(),bI=I.getBoundingClientRect().width;I.style.position='absolute';I.style.overflowY='auto';I.style.inset=(bG.top+'px')+' auto auto '+((bG.left+bG.width)+'px');j(I);var bH=l(I);k(I);!bH.right&&(I.style.inset=(bG.top+'px')+' auto auto '+((bG.left-bI)+'px'));j(I)});bE.addEventListener('mouseout',function(bJ){k(I)})}}document.addEventListener('click',function(bO){for(const bQ of document.querySelectorAll('[data-oanna-dropdown]')){var bP=bQ.querySelector('[data-oanna-menu]');if(bO.target==bQ||bQ.contains(bO.target))continue;if(!bP.hasAttribute('data-oanna-menu-submenu'))bP.hasAttribute('data-open')&&k(bP)}})}function j(bR){bR.showPopover();bR.setAttribute('data-open','')}function k(bS){bS.hidePopover();bS.removeAttribute('data-open')}function l(bT){let bU=bT.getBoundingClientRect();let bV=document.documentElement;return{top:bU.top>=0,bottom:bU.bottom<=(window.innerHeight||bV.clientHeight),left:bU.left>=0,right:bU.right<=(window.innerWidth||bV.clientWidth)}}m();function m(){for(const bW of document.querySelectorAll('[data-oanna-tooltip]')){var position=bW.getAttribute('data-position'),padding=10;bW.setAttribute('wire:ignore','');if(!bW.querySelector('[data-oanna-tooltip-content]')){var content=document.createElement('div');content.setAttribute('popover','manual');content.setAttribute('data-oanna-tooltip-content','');content.innerText=bW.getAttribute('data-oanna-tooltip');bW.appendChild(content)}bW.addEventListener('mouseover',function(bX){var bY=bW.getBoundingClientRect(),bZ=bW.querySelector('[data-oanna-tooltip-content]');n(bZ);var cA=bZ.getBoundingClientRect();o(bZ);var cB,_F;if(position=='top'){cB=(bY.top-cA.height)-padding;_F=((bY.width-cA.width)/2)+bY.left;cA.width>bY.width&&(_F=bY.left-((cA.width-bY.width)/2))}else if(position=='bottom'){cB=bY.top+padding;_F=((bY.width-cA.width)/2)+bY.left;cA.width>bY.width&&(_F=bY.left-((cA.width-bY.width)/2))}else if(position=='left'){_F=(bY.left-cA.width)-padding;cB=((bY.height-cA.height)/2)+bY.top;cA.width>bY.width&&(cB=bY.top-((cA.height-bY.height)/2))}else if(position=='right'){_F=bY.left+padding;cB=((bY.height-cA.height)/2)+bY.top;cA.width>bY.width&&(cB=bY.top-((cA.height-bY.height)/2))}bZ.style.position='absolute';bZ.style.overflowY='auto';bZ.style.inset=(cB+'px')+' auto auto '+(_F+'px');n(bZ)});bW.addEventListener('mouseout',function(cC){o(bW.querySelector('[data-oanna-tooltip-content]'))})}}function n(cD){cD.showPopover();setTimeout(function(){cD.setAttribute('data-open','')},1)}function o(cE){var cF=getComputedStyle(cE);cE.removeAttribute('data-open');setTimeout(function(){cE.hidePopover()},parseInt(cF.transitionDuration)??200)}p();function p(){for(const cG of document.querySelectorAll('[data-oanna-select]')){var button=cG.querySelector('[data-oanna-select-button]'),options=cG.querySelector('[data-oanna-select-options]'),rect=button.getBoundingClientRect(),padding=10;for(const cH of options.querySelectorAll('option'))cH.addEventListener('click',function(cI){var cJ=window.Livewire?.find(cG.getAttribute('data-livewire-id'));cJ.$set(cG.getAttribute('data-target'),cH.getAttribute('value'))});button.addEventListener('click',function(cK){console.log(cK);var cL=cG.querySelector('[data-oanna-select-options]');if(!cL.hasAttribute('data-open')){cL.showPopover();var cM=l(cL),cN=cL.getBoundingClientRect();console.log(cM,cN);cL.hidePopover();cL.style.width=rect.width+'px';!cM.bottom?cL.style.inset=((rect.top-cN.height-padding)+'px')+' auto auto '+(rect.left+'px'):cL.style.inset=((rect.top+rect.height+padding)+'px')+' auto auto '+(rect.left+'px');q(cL)}else r(cL)})}}function q(cO){cO.showPopover();cO.setAttribute('data-open','')}function r(cP){cP.hidePopover();cP.removeAttribute('data-open')}})}
