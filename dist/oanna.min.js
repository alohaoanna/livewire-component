window.$OANNA=window.$oanna={modal(a){return{name:a,constructor(A){this.name=A},show(){window.Livewire?.first().dispatch('modal.show',{'name':this.name})},close(){window.Livewire?.first().dispatch('modal.close',{'name':this.name})}}},async toast(_,b='default',c=null,d=null,B=null){var f=await fetch('/oanna/config');var g=await f.json();window.Livewire?.first().dispatch('toast.show',{duration:B??g.toast.duration,slots:{text:_,heading:c},dataset:{variant:b,position:d??g.toast.position}})}};document.addEventListener('livewire:initialized',function(C){let _b;window.Livewire?.on('toast.show',function({duration:_a,slots:_B,dataset:_C}){var _d=_B.heading,E=_B.text,F=_C.variant,G=_C.position,h=document.querySelector('.toastContainer'),i=document.querySelector('.toastContainer__toast'),k=i.querySelector('.toastContainer__toast__contentContainer__text');if(!h||!i)return;var j=i.querySelector('.toastContainer__toast__contentContainer__title');_b?(h.removeAttribute('data-toast'),setTimeout(function(){clearTimeout(_b);_c(i,h,j,k,_d,E,G,F,_a)},150)):(_c(i,h,j,k,_d,E,G,F,_a))});function _c(_A,aA,aB,_D,_e,_f,_g,H,I){if(!aB||!_D)return;aA.setAttribute('data-toast-position',_g);aA.setAttribute('data-toast-variant',H);_e?(aB.innerHTML=_e,_D.innerHTML=_f):(aB.innerHTML=_f);aA.showPopover();aA.style.display='flex';setTimeout(function(){aA.setAttribute('data-toast','');_b=setTimeout(function(){D(_A,aA)},parseFloat(I))},10)}function D(aC,aD){aD.removeAttribute('data-toast');setTimeout(function(){aD.hidePopover();aD.style.display='none';_b&&(clearTimeout(_b),_b=null)},200)}for(const aE of document.querySelectorAll('dialog[data-modal]'))aE.addEventListener('click',function(e){var aF=aE.hasAttribute('data-dismissable')&&aE.getAttribute('data-dismissable')==='true';(aE===e.target&&aF)&&(aE.removeAttribute('data-open'),setTimeout(function(){aE.close()},201))});window.Livewire?.on('modal.show',function({name:aG}){var aH=document.querySelector(`dialog[data-modal="${aG}"]`);if(!aH){console.warn(`No modal found for name "${aG}"!`);return}aH.showModal();setTimeout(function(){aH.setAttribute('data-open','')},1)});window.Livewire?.on('modal.close',function({name:aI}){var aJ=document.querySelector(`dialog[data-modal="${aI}"]`);if(!aJ){console.warn(`No modal found for name "${aI}"!`);return}aJ.removeAttribute('data-open');setTimeout(function(){aJ.close()},201)})});
