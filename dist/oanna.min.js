const{isArray:a}=Array;window.$OANNA=window.$oanna={modal(A){return{name:A,constructor(_){this.name=_},show(){window.Livewire?.first().dispatch('modal.show',{'name':this.name})},close(){window.Livewire?.first().dispatch('modal.close',{'name':this.name})}}},async toast(b,B='default',c=null,D=null,E=null){let f=await fetch('/oanna/config');let g=await f.json();window.Livewire?.first().dispatch('toast.show',{duration:E??g.toast.duration,slots:{text:b,heading:c},dataset:{variant:B,position:D??g.toast.position}})}};document.addEventListener('livewire:initialized',function(C){let _b;window.Livewire?.on('toast.show',function({duration:_a,slots:_B,dataset:_C}){var _D=_B.heading,_E=_B.text,_f=_C.variant,_g=_C.position,H=document.querySelector('.toastContainer'),_i=document.querySelector('.toastContainer__toast');if(!H||!_i)return;let J=_i.querySelector('.toastContainer__toast__contentContainer__title');let K=_i.querySelector('.toastContainer__toast__contentContainer__text');_b?(H.removeAttribute('data-toast'),setTimeout(function(){clearTimeout(_b);_c(_i,H,J,K,_D,_E,_g,_f,_a)},150)):(_c(_i,H,J,K,_D,_E,_g,_f,_a))});function _c(_A,aA,aB,aC,aD,_F,_G,_h,_I){if(!aB||!aC)return;aA.setAttribute('data-toast-position',_G);aA.setAttribute('data-toast-variant',_h);aD?(aB.innerHTML=aD,aC.innerHTML=_F):(aB.innerHTML=_F);aA.showPopover();aA.style.display='flex';setTimeout(function(){aA.setAttribute('data-toast','');_b=setTimeout(function(){_d(_A,aA)},parseFloat(_I))},10)}function _d(aE,aF){aF.removeAttribute('data-toast');setTimeout(function(){aF.hidePopover();aF.style.display='none';_b&&(clearTimeout(_b),_b=null)},200)}for(const aG of document.querySelectorAll('dialog[data-modal]'))aG.addEventListener('click',function(e){var aH=aG.hasAttribute('data-dismissable')&&aG.getAttribute('data-dismissable')==='true';(aG===e.target&&aH)&&(aG.removeAttribute('data-open'),setTimeout(function(){aG.close()},201))});window.Livewire?.on('modal.show',function({name:aI}){let aJ=document.querySelector(`dialog[data-modal="${aI}"]`);if(!aJ){console.warn(`No modal found for name "${aI}"!`);return}aJ.showModal();setTimeout(function(){aJ.setAttribute('data-open','')},1)});window.Livewire?.on('modal.close',function({name:aK}){let aL=document.querySelector(`dialog[data-modal="${aK}"]`);if(!aL){console.warn(`No modal found for name "${aK}"!`);return}aL.removeAttribute('data-open');setTimeout(function(){aL.close()},201)});for(const aM of document.querySelectorAll('.tooltipContainer')){let aN=5,aO=aM.firstElementChild,aP=aM.querySelector('.tooltipContainer__tooltip');G(aP);_e(aP,aO,aM,aN);setTimeout(function(){F(aP,aO,aN);h(aP)},200);if(aO&&aP)aM.hasAttribute('data-tooltip-clickable')||window.innerWidth<=900?(aO.addEventListener('click',e=>{if(aP.hasAttribute('data-open')){aP.removeAttribute('data-open');setTimeout(function(){h(aP)},parseFloat(getComputedStyle(aP).transitionDuration)*1000)}else{G(aP);_e(aP,aO,aM,aN);setTimeout(function(){F(aP,aO,aN);aP.setAttribute('data-open','')},1)}})):(aO.addEventListener('mouseover',e=>{G(aP);_e(aP,aO,aM,aN);setTimeout(function(){F(aP,aO,aN);aP.setAttribute('data-open','')},1)}),aO.addEventListener('mouseleave',e=>{aP.removeAttribute('data-open');setTimeout(function(){h(aP)},parseFloat(getComputedStyle(aP).transitionDuration)*1000)}))}function _e(aQ,aR,aS,aT){let aU=aR.getBoundingClientRect(),aV=aQ.getBoundingClientRect(),aW=aS.getAttribute('data-tooltip-position'),_H=window.scrollX,aX=window.scrollY;var _j=0,_k=0;if(aW==='top'||aW==='bottom')aV.width>aU.width?_k=aU.left-((aV.width-aU.width)/2)+_H:_k=aU.left+((aU.width-aV.width)/2)+_H;if(aW==='left'||aW==='right')aV.height>aU.height?_j=aU.top-((aV.height-aU.height)/2)+aX:_j=aU.top+((aU.height-aV.height)/2)+aX;if(aW==='top')_j=aU.top-aV.height-aT+aX;else if(aW==='left')_k=aU.left-aV.width-aT+_H;else if(aW==='bottom')_j=aU.top+aU.height+aT+aX;else aW==='right'&&(_k=aU.left+aU.width+aT+_H);aQ.style.position='absolute';aQ.style.overflowY='auto';aQ.style.inset=`${_j}px auto auto ${_k}px`}function F(aY,aZ,bA){let bB=aY.getBoundingClientRect(),bC=aZ.getBoundingClientRect(),bD=s(bB),bE=getComputedStyle(aY).inset,[bF,bG,_J,_K]=bE.split(' ');bF=parseFloat(bF);_K=parseFloat(_K);!bD.top&&(bF=bC.top-bB.height-bA+window.scrollY);!bD.left&&(_K=bC.left+window.scrollX);!bD.bottom&&(bF=bC.top+bC.height+bA+window.scrollY);!bD.right&&(_K=bC.left-bB.width+bC.width);aY.style.inset=`${bF}px auto auto ${_K}px`}function G(bH){bH.showPopover();bH.setAttribute('open','')}function h(bI){bI.removeAttribute('open');bI.hidePopover()}for(const bJ of document.querySelectorAll('.dropdown')){let bK=5,bL=bJ.firstElementChild,bM=bJ.querySelector('.dropdown__menu');k(bM);I(bM,bL,bJ,bK);setTimeout(function(){j(bM,bL,bK);l(bM)},200);bL.addEventListener('click',function(e){if(bM.hasAttribute('data-open')){bM.removeAttribute('data-open');setTimeout(function(){l(bM)},parseFloat(getComputedStyle(bM).transitionDuration)*1000)}else{for(const bN of document.querySelectorAll('.dropdown')){let d=bN.querySelector('.dropdown__menu');if(d!==bM){d.removeAttribute('data-open');setTimeout(function(){l(d)},parseFloat(getComputedStyle(d).transitionDuration)*1000)}}k(bM);I(bM,bL,bJ,bK);setTimeout(function(){j(bM,bL,bK);bM.setAttribute('data-open','')},1)}});for(const bO of bJ.querySelectorAll('.dropdown__item'))bO.addEventListener('click',function(e){if(!bM.hasAttribute('data-keep-open')&&!bO.hasAttribute('data-keep-open')){bM.removeAttribute('data-open');setTimeout(function(){l(bM)},parseFloat(getComputedStyle(bM).transitionDuration)*1000)}})}function I(bP,bQ,bR,bS){let bT=bQ.getBoundingClientRect(),bU=bP.getBoundingClientRect(),bV=bR.getAttribute('data-dropdown-position'),bW=bR.getAttribute('data-dropdown-align'),bX=window.scrollX,bY=window.scrollY;var bZ=0,L=0;if(bV==='top')bZ=bT.top-bU.height-bS+bY;else bV==='bottom'&&(bZ=bT.top+bT.height+bS+bY);if(bW==='left')L=bT.left+bX;else if(bW==='center')bU.width>bT.width?L=bT.left-((bU.width-bT.width)/2)+bX:L=bT.left+((bT.width-bU.width)/2)+bX;else bW==='right'&&(L=bT.left-bU.width+bT.width);bP.style.position='absolute';bP.style.overflowY='auto';bP.style.inset=`${bZ}px auto auto ${L}px`}function j(cA,cB,cC){let cD=cA.getBoundingClientRect(),cE=cB.getBoundingClientRect(),cF=s(cD),cG=getComputedStyle(cA).inset,[cH,cI,cJ,cK]=cG.split(' ');cH=parseFloat(cH);cK=parseFloat(cK);!cF.top&&(cH=cE.top-cD.height-cC+window.scrollY);!cF.left&&(cK=cE.left+window.scrollX);!cF.bottom&&(cH=cE.top+cE.height+cC+window.scrollY);!cF.right&&(cK=cE.left-cD.width+cE.width);cA.style.inset=`${cH}px auto auto ${cK}px`}function k(cL){cL.showPopover();cL.setAttribute('open','')}function l(cM){cM.removeAttribute('open');cM.hidePopover()}for(const cN of document.querySelectorAll('[data-select]')){let cO=cN.querySelector('.select-custom__input'),cP=cN.getAttribute('data-select'),cQ=cN.querySelector('[data-select-clear]'),cR=window.Livewire?.find(cN.getAttribute('data-livewire-id')),m='';if(cN.hasAttribute('data-select-multiple')){var n=JSON.parse(JSON.stringify(cR.get(cP)));if(n.length>0){let cS=cN.getAttribute('data-select-suffix'),cT=cN.getAttribute('data-select-item-limit');n.length>cT&&cS?(m=n.length+' '+cS):(n.forEach(v=>{var i=cN.querySelector(`.dropdown__item[value="${v}"]`);i&&(m+=i.textContent+', ')}),m=m.slice(0,-2))}}else{var o=q(cR.get(cP)),p=cN.querySelector(`.dropdown__item[value="${o}"]`);p&&(m=p.textContent)}(cO&&m)&&(cO.innerHTML=m);cN.querySelectorAll('.dropdown__item').forEach(item=>item.addEventListener('click',function(){var cU=r(item.getAttribute('value')),cV='';if(cN.hasAttribute('data-select-multiple')){var cW=JSON.parse(JSON.stringify(cR.get(cP)));if(cW.includes(cU)){var cX=cW.indexOf(cU);cW.splice(cX,1)}else cW.push(cU);cR.set(cP,cW);if(cW.length>0){let cY=cN.getAttribute('data-select-suffix');cW.length>3&&cY?(cV=cW.length+' '+cY):(cW.forEach(v=>{var i=cN.querySelector(`.dropdown__item[value="${v}"]`);i&&(cV+=i.textContent+', ')}),cV=cV.slice(0,-2))}else cV=cN.getAttribute('data-select-placeholder')}else{cR.set(cP,cU);cV=item.textContent}(cO&&cV)&&(cO.innerHTML=cV)}));cQ?.addEventListener('click',function(e){cR.set(cP,cN.hasAttribute('data-select-multiple')?[]:null);cO.innerHTML=cN.getAttribute('data-select-placeholder')})}function q(cZ){if(typeof cZ==='object'&&cZ!==null){if(a(cZ))return cZ.map(q);let dA={};for(const dB in cZ)dA[dB]=q(cZ[dB]);return dA}return cZ}function r(dC){if(dC==='true')return!0;if(dC==='false')return!1;if(!isNaN(dC)&&dC.trim()!=='')return +dC;if((dC.startsWith('{')&&dC.endsWith('}'))||(dC.startsWith('[')&&dC.endsWith(']')))try{return JSON.parse(dC)}catch(e){return dC}return dC}function s(dD){let dE=document.documentElement;return{top:dD.top>=0,left:dD.left>=0,bottom:dD.bottom<=(window.innerHeight||dE.clientHeight),right:dD.right<=(window.innerWidth||dE.clientWidth)}}});
